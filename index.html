<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pokémon Torneo</title>
<link rel="stylesheet" href="css/style.css" />
<style>
  /* Estilos para el carrusel y noticias */
  .news-container {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 1rem;
  }

  /* Carrusel */
  .carousel {
    position: relative;
    height: 400px;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 3rem;
  }

  .carousel-inner {
    display: flex;
    transition: transform 0.5s ease;
    height: 100%;
  }

  .carousel-item {
    min-width: 100%;
    position: relative;
  }

  .carousel-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .carousel-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 1rem;
  }

  .carousel-caption h3 {
    margin: 0;
    color: #ffcb05;
  }

  /* Listado de noticias */
  .news-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .news-card {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
    cursor: pointer;
  }

  .news-card:hover {
    transform: translateY(-5px);
  }

  .news-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
  }

  .news-card-content {
    padding: 1rem;
  }

  .news-card h3 {
    margin-top: 0;
    color: #3d7dca;
  }

  .news-date {
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
  }

  /* Popup de noticias */
  .news-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.8);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }

  .popup-content {
    background: white;
    max-width: 800px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    border-radius: 12px;
    padding: 2rem;
    position: relative;
  }

  .close-popup {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 1.5rem;
    cursor: pointer;
    background: none;
    border: none;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .carousel {
      height: 250px;
    }
    
    .news-list {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>
<header style="text-align:center; padding:1rem; background:#fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
  <img src="images.jpeg" alt="Pokémon Escarlata y Púrpura" style="max-width:100%; height:auto; border-radius:12px;" />
</header>
<nav>
  <ul>
    <li><a href="index.html">Inicio</a></li>
    <li><a href="reglas.html">Reglas</a></li>
    <li><a href="#">Leaderboard ▼</a>
    <ul>
        <li><a href="leaderboard.html">Classificación Pokemon</a></li>
        <li><a href="leaderboard-entrenadores.html">Classificación Entrenadores</a></li>
      </ul>
    </li>
    <li>
      <a href="equipos.html">Equipos ▼</a>
      <ul>
        <li><a href="equipos-jordi.html">Jordi</a></li>
        <li><a href="equipos-josep.html">Josep</a></li>
        <li><a href="equipos-eudald.html">Eudald</a></li>
      </ul>
    </li>
  </ul>
</nav>

<main class="news-container">
  <h1>Últimas Noticias del Torneo</h1>
  
  <!-- Carrusel de noticias destacadas -->
  <div class="carousel">
    <div class="carousel-inner" id="carousel-inner">
      <!-- Las noticias destacadas se cargarán aquí con JavaScript -->
    </div>
  </div>
  
  <!-- Listado de todas las noticias -->
  <h2>Todas las Noticias</h2>
  <div class="news-list" id="news-list">
    <!-- Las noticias se cargarán aquí con JavaScript -->
  </div>
</main>

<!-- Popup para mostrar noticias completas -->
<div class="news-popup" id="news-popup">
  <div class="popup-content">
    <button class="close-popup" id="close-popup">&times;</button>
    <h2 id="popup-title"></h2>
    <p class="news-date" id="popup-date"></p>
    <img id="popup-image" src="" alt="" style="max-width:100%; margin:1rem 0;">
    <div id="popup-content"></div>
  </div>
</div>

<script>
// Datos de ejemplo de noticias (puedes cargarlos desde JSON después)
const noticias = [
  {
    id: 1,
    titulo: "Gran victoria de Jordi en el último combate",
    imagen: "https://img.pokemondb.net/artwork/large/charizard.jpg",
    fecha: "2023-05-15",
    destacada: true,
    contenido: "<p>Jordi ha conseguido una impresionante victoria en el último combate del torneo, con su Charizard demostrando un dominio absoluto del campo de batalla. El combate duró 15 turnos y terminó con un espectacular lanzallamas que dejó fuera de combate al último Pokémon de su rival.</p><p>Con esta victoria, Jordi se consolida en el primer puesto de la clasificación.</p>"
  },
  {
    id: 2,
    titulo: "Nuevo Pokémon capturado por Eudald",
    imagen: "https://img.pokemondb.net/artwork/large/dragonite.jpg",
    fecha: "2023-05-12",
    destacada: true,
    contenido: "<p>Eudald ha añadido un poderoso Dragonite a su equipo después de una intensa sesión de entrenamiento. Este Pokémon, conocido por su versatilidad en combate, promete dar mucho que hablar en los próximos enfrentamientos.</p>"
  },
  {
    id: 3,
    titulo: "Cambios en las reglas del torneo",
    imagen: "https://img.pokemondb.net/artwork/large/pikachu.jpg",
    fecha: "2023-05-10",
    destacada: false,
    contenido: "<p>El comité organizador ha anunciado pequeños ajustes en las reglas del torneo para equilibrar mejor los combates. Las principales modificaciones afectan al uso de objetos y al tiempo máximo por turno.</p>"
  },
  {
    id: 4,
    titulo: "Josep domina con su Fuecoco",
    imagen: "https://img.pokemondb.net/artwork/large/fuecoco.jpg",
    fecha: "2023-05-08",
    destacada: true,
    contenido: "<p>El Fuecoco de Josep ha sido la sensación de la última ronda de combates, consiguiendo 3 victorias consecutivas. Su estrategia de combate ha sorprendido a todos los participantes.</p>"
  },
  {
    id: 5,
    titulo: "Próximo torneo de captura",
    imagen: "https://img.pokemondb.net/artwork/large/gengar.jpg",
    fecha: "2023-05-05",
    destacada: false,
    contenido: "<p>Se anuncia un torneo especial de captura que tendrá lugar el próximo fin de semana. Los participantes competirán por capturar el Pokémon más raro en una zona designada.</p>"
  }
];

// Función para inicializar el carrusel
function initCarousel() {
  const carouselInner = document.getElementById('carousel-inner');
  const destacadas = noticias.filter(noticia => noticia.destacada);
  
  destacadas.forEach((noticia, index) => {
    const item = document.createElement('div');
    item.className = 'carousel-item';
    item.innerHTML = `
      <img src="${noticia.imagen}" alt="${noticia.titulo}">
      <div class="carousel-caption">
        <h3>${noticia.titulo}</h3>
        <p>${new Date(noticia.fecha).toLocaleDateString('es-ES')}</p>
      </div>
    `;
    item.addEventListener('click', () => openPopup(noticia));
    carouselInner.appendChild(item);
  });
  
  // Auto-rotación cada 5 segundos
  let currentIndex = 0;
  setInterval(() => {
    currentIndex = (currentIndex + 1) % destacadas.length;
    carouselInner.style.transform = `translateX(-${currentIndex * 100}%)`;
  }, 5000);
}

// Función para cargar el listado de noticias
function loadNewsList() {
  const newsList = document.getElementById('news-list');
  
  // Ordenar por fecha (más reciente primero)
  const sortedNews = [...noticias].sort((a, b) => new Date(b.fecha) - new Date(a.fecha));
  
  sortedNews.forEach(noticia => {
    const card = document.createElement('div');
    card.className = 'news-card';
    card.innerHTML = `
      <img src="${noticia.imagen}" alt="${noticia.titulo}">
      <div class="news-card-content">
        <span class="news-date">${new Date(noticia.fecha).toLocaleDateString('es-ES')}</span>
        <h3>${noticia.titulo}</h3>
      </div>
    `;
    card.addEventListener('click', () => openPopup(noticia));
    newsList.appendChild(card);
  });
}

// Funciones para el popup
function openPopup(noticia) {
  const popup = document.getElementById('news-popup');
  document.getElementById('popup-title').textContent = noticia.titulo;
  document.getElementById('popup-date').textContent = new Date(noticia.fecha).toLocaleDateString('es-ES');
  document.getElementById('popup-image').src = noticia.imagen;
  document.getElementById('popup-image').alt = noticia.titulo;
  document.getElementById('popup-content').innerHTML = noticia.contenido;
  popup.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closePopup() {
  document.getElementById('news-popup').style.display = 'none';
  document.body.style.overflow = 'auto';
}

// Inicialización cuando el DOM esté listo
document.addEventListener('DOMContentLoaded', () => {
  initCarousel();
  loadNewsList();
  
  // Evento para cerrar el popup
  document.getElementById('close-popup').addEventListener('click', closePopup);
  document.getElementById('news-popup').addEventListener('click', (e) => {
    if (e.target === document.getElementById('news-popup')) {
      closePopup();
    }
  });
});
</script>
</body>
</html>
